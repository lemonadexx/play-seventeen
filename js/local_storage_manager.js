function LocalStorageManager(t){this.bestScoreKey="bestScore",this.gameStateKey="gameState"+t;var e=this.localStorageSupported();this.storage=e?window.localStorage:window.fakeStorage}window.fakeStorage={_data:{},setItem:function(t,e){return this._data[t]=String(e)},getItem:function(t){return this._data.hasOwnProperty(t)?this._data[t]:void 0},removeItem:function(t){return delete this._data[t]},clear:function(){return this._data={}}},LocalStorageManager.prototype.localStorageSupported=function(){try{var t=window.localStorage;return t.setItem("test","1"),t.removeItem("test"),!0}catch(t){return!1}},LocalStorageManager.prototype.getBestScore=function(){return this.storage.getItem(this.bestScoreKey)||0},LocalStorageManager.prototype.setBestScore=function(t){this.storage.setItem(this.bestScoreKey,t)},LocalStorageManager.prototype.getGameState=function(){var t=this.storage.getItem(this.gameStateKey);return console.log(t),t?JSON.parse(t):null},LocalStorageManager.prototype.debugger=function(){this.storage.setItem(this.gameStateKey,JSON.stringify({grid:{size:6,cells:[[{position:{x:0,y:0},value:4},{position:{x:0,y:1},value:2},null,null,null,null],[{position:{x:1,y:0},value:8},{position:{x:1,y:1},value:4},null,null,null,null],[{position:{x:2,y:0},value:32},{position:{x:2,y:1},value:8},{position:{x:2,y:2},value:4},{position:{x:2,y:3},value:2},{position:{x:2,y:4},value:4},{position:{x:2,y:5},value:2}],[{position:{x:3,y:0},value:128},{position:{x:3,y:1},value:32},{position:{x:3,y:2},value:16},{position:{x:3,y:3},value:8},null,null],[{position:{x:4,y:0},value:1024},{position:{x:4,y:1},value:64},{position:{x:4,y:2},value:32},{position:{x:4,y:3},value:16},{position:{x:4,y:4},value:4},null],[{position:{x:5,y:0},value:65536},{position:{x:5,y:1},value:4},{position:{x:5,y:2},value:64},{position:{x:5,y:3},value:32},{position:{x:5,y:4},value:16},{position:{x:5,y:5},value:4}]]},score:982116,over:!1,won:!1,keepPlaying:!1}));var t=this.storage.getItem(this.gameStateKey);return console.log(t),t?JSON.parse(t):null},LocalStorageManager.prototype.setGameState=function(t){this.storage.setItem(this.gameStateKey,JSON.stringify(t))},LocalStorageManager.prototype.clearGameState=function(){this.storage.removeItem(this.gameStateKey)};